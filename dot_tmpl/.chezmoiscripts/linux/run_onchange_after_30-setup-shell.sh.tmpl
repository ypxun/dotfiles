#!/bin/bash
set -eufo pipefail

# ç›‘æ§æ¸…å•å˜åŒ–: 
# {{ include (joinPath .chezmoi.workingTree "zsh/zsh_plugins.txt") | sha256sum }}

echo "ğŸ”Œ [3/3] æ­£åœ¨ç»´æŠ¤ Zsh æ’ä»¶ä¸ Shell ç¯å¢ƒ..."

# 1. æ’ä»¶å…‹éš†
{{ template "zsh-plugins.tmpl" . }}

# 2. Shell å¼•å¯¼ (é‡‡ç”¨ä½ ç®€åŒ–çš„ç‰ˆæœ¬)
if [[ "$SHELL" != "$(command -v zsh)" ]]; then
    echo -e "\033[1;33mæç¤º: è¯·æ‰‹åŠ¨æ‰§è¡Œ chsh -s \$(command -v zsh) åˆ‡æ¢é»˜è®¤ Shell\033[0m"
fi

echo "âœ¨ æ’ä»¶åŒæ­¥æµç¨‹æ‰§è¡Œå®Œæ¯•ï¼"

echo "ó°¯“ [Tmux] æ­£åœ¨æ£€æŸ¥ oh-my-tmux ç¯å¢ƒ..."
{{ template "ohmytmux.tmpl" . }}

echo "âœ¨ å®Œæ¯•ï¼"